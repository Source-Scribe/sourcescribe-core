"use strict";(globalThis.webpackChunksourcescribe_docs=globalThis.webpackChunksourcescribe_docs||[]).push([[7472],{8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var o=i(6540);const r={},s=o.createContext(r);function t(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(s.Provider,{value:n},e.children)}},9842:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"api-reference/files/sourcescribe_config_loader","title":"SourceScribe Configuration Loader","description":"File Purpose and Overview","source":"@site/docs/api-reference/files/sourcescribe_config_loader.md","sourceDirName":"api-reference/files","slug":"/api-reference/files/sourcescribe_config_loader","permalink":"/docs/api-reference/files/sourcescribe_config_loader","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var r=i(4848),s=i(8453);const t={},a="SourceScribe Configuration Loader",c={},l=[{value:"File Purpose and Overview",id:"file-purpose-and-overview",level:2},{value:"Main Components",id:"main-components",level:2},{value:"<code>ConfigLoader</code> Class",id:"configloader-class",level:3},{value:"Key Functionality",id:"key-functionality",level:2},{value:"Dependencies and Imports",id:"dependencies-and-imports",level:2},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Important Implementation Details",id:"important-implementation-details",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"sourcescribe-configuration-loader",children:"SourceScribe Configuration Loader"})}),"\n",(0,r.jsx)(n.h2,{id:"file-purpose-and-overview",children:"File Purpose and Overview"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"loader.py"})," file in the ",(0,r.jsx)(n.code,{children:"sourcescribe/config"})," module of the SourceScribe project is responsible for loading and managing the application's configuration settings. It provides a ",(0,r.jsx)(n.code,{children:"ConfigLoader"})," class that handles the loading, saving, and default configuration creation for the SourceScribe application."]}),"\n",(0,r.jsx)(n.h2,{id:"main-components",children:"Main Components"}),"\n",(0,r.jsxs)(n.h3,{id:"configloader-class",children:[(0,r.jsx)(n.code,{children:"ConfigLoader"})," Class"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"ConfigLoader"})," class is the main component of this file, providing the following key functionality:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Load Configuration from File"}),": The ",(0,r.jsx)(n.code,{children:"load_from_file()"})," method loads the SourceScribe configuration from a YAML file, parsing the data and returning a ",(0,r.jsx)(n.code,{children:"SourceScribeConfig"})," instance."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Find Configuration File"}),": The ",(0,r.jsx)(n.code,{children:"find_config()"})," method searches upwards from a given start path (or the current working directory) to locate a valid SourceScribe configuration file."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Load or Default Configuration"}),": The ",(0,r.jsx)(n.code,{children:"load_or_default()"})," method attempts to load the configuration from a specified file path, or if not provided, it searches for a configuration file and returns a default configuration if none is found."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Save Configuration to File"}),": The ",(0,r.jsx)(n.code,{children:"save_to_file()"})," method saves a ",(0,r.jsx)(n.code,{children:"SourceScribeConfig"})," instance to a YAML file at the specified output path."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create Default Configuration"}),": The ",(0,r.jsx)(n.code,{children:"create_default_config()"})," method generates a default ",(0,r.jsx)(n.code,{children:"SourceScribeConfig"})," instance and saves it to the specified output path."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Inject Environment Variables"}),": The ",(0,r.jsx)(n.code,{children:"_inject_env_vars()"})," and ",(0,r.jsx)(n.code,{children:"_inject_env_vars_to_config()"})," methods handle the injection of environment variables, such as API keys and base URLs, into the configuration data and object, respectively."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"key-functionality",children:"Key Functionality"}),"\n",(0,r.jsxs)(n.p,{children:["The main functionality of the ",(0,r.jsx)(n.code,{children:"ConfigLoader"})," class is to provide a centralized and consistent way to load, manage, and persist the SourceScribe application's configuration settings. This includes:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Loading configuration from a YAML file"}),"\n",(0,r.jsx)(n.li,{children:"Searching for a configuration file in the file system"}),"\n",(0,r.jsx)(n.li,{children:"Providing a default configuration when no file is found"}),"\n",(0,r.jsx)(n.li,{children:"Saving the configuration to a YAML file"}),"\n",(0,r.jsx)(n.li,{children:"Injecting environment variables into the configuration data and object"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"dependencies-and-imports",children:"Dependencies and Imports"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"loader.py"})," file imports the following modules and classes:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"os"}),": For interacting with the operating system and file paths"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"yaml"}),": For parsing and serializing YAML data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pathlib.Path"}),": For working with file paths"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"typing.Optional"}),", ",(0,r.jsx)(n.code,{children:"typing.Dict"}),", and ",(0,r.jsx)(n.code,{children:"typing.Any"}),": For type annotations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sourcescribe.config.models.SourceScribeConfig"})," and ",(0,r.jsx)(n.code,{children:"sourcescribe.config.models.LLMConfig"}),": The configuration models used by the application"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,r.jsxs)(n.p,{children:["Here are some examples of how the ",(0,r.jsx)(n.code,{children:"ConfigLoader"})," class can be used:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Load configuration from a specific file\nconfig = ConfigLoader.load_from_file("/path/to/config.yaml")\n\n# Find and load configuration from the file system\nconfig = ConfigLoader.load_or_default()\n\n# Save configuration to a file\nConfigLoader.save_to_file(config, "/path/to/output.yaml")\n\n# Create a default configuration and save it\ndefault_config = ConfigLoader.create_default_config("/path/to/default.yaml")\n'})}),"\n",(0,r.jsx)(n.h2,{id:"important-implementation-details",children:"Important Implementation Details"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configuration File Naming"}),": The ",(0,r.jsx)(n.code,{children:"ConfigLoader"})," class uses a set of default configuration file names (",(0,r.jsx)(n.code,{children:"DEFAULT_CONFIG_NAMES"}),") to search for the configuration file in the file system."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environment Variable Injection"}),": The ",(0,r.jsx)(n.code,{children:"_inject_env_vars()"})," and ",(0,r.jsx)(n.code,{children:"_inject_env_vars_to_config()"})," methods handle the injection of environment variables, such as API keys and base URLs, into the configuration data and object, respectively."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"YAML Serialization"}),": The ",(0,r.jsx)(n.code,{children:"save_to_file()"})," method uses the ",(0,r.jsx)(n.code,{children:"yaml.dump()"})," function to serialize the ",(0,r.jsx)(n.code,{children:"SourceScribeConfig"})," instance to a YAML file, with the ",(0,r.jsx)(n.code,{children:"mode='json'"})," argument to ensure that enums are serialized as strings."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default Configuration Generation"}),": The ",(0,r.jsx)(n.code,{children:"create_default_config()"})," method generates a default ",(0,r.jsx)(n.code,{children:"SourceScribeConfig"})," instance and saves it to the specified output path."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);