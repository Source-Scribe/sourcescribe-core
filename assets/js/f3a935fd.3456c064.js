"use strict";(globalThis.webpackChunksourcescribe_docs=globalThis.webpackChunksourcescribe_docs||[]).push([[2574],{6028:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"api-reference/overview/architecture","title":"Architecture Overview","description":"High-Level Architecture","source":"@site/docs/api-reference/overview/architecture.md","sourceDirName":"api-reference/overview","slug":"/api-reference/overview/architecture","permalink":"/sourcescribe-core/docs/api-reference/overview/architecture","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/sourcescribe-core/docs/api-reference/overview/"},"next":{"title":"Technology Stack","permalink":"/sourcescribe-core/docs/api-reference/overview/technology-stack"}}');var s=i(4848),t=i(8453);const a={},o="Architecture Overview",c={},l=[{value:"High-Level Architecture",id:"high-level-architecture",level:2},{value:"Key Components",id:"key-components",level:2},{value:"Data Flow",id:"data-flow",level:2},{value:"Design Principles",id:"design-principles",level:2},{value:"System Architecture Diagram",id:"system-architecture-diagram",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"architecture-overview",children:"Architecture Overview"})}),"\n",(0,s.jsx)(n.h1,{id:"system-architecture-documentation",children:"System Architecture Documentation"}),"\n",(0,s.jsx)(n.h2,{id:"high-level-architecture",children:"High-Level Architecture"}),"\n",(0,s.jsx)(n.p,{children:"The system is composed of several key modules that work together to provide a comprehensive solution. The high-level architecture can be visualized as follows:"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    User --\x3e CLI\n    CLI --\x3e Factory\n    Factory --\x3e Providers\n    Providers --\x3e Models\n    Models --\x3e Analyzer\n    Analyzer --\x3e Diagram\n    Diagram --\x3e Generator\n    Generator --\x3e Output"}),"\n",(0,s.jsx)(n.p,{children:"The main components and their roles are:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CLI"}),": Provides a command-line interface for users to interact with the system."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Factory"}),": Manages the creation and configuration of the various provider modules."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Providers"}),": Implement the logic to interact with external AI services (Anthropic, OpenAI, Ollama)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Models"}),": Define the data structures and entities used throughout the system."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Analyzer"}),": Processes input files and extracts relevant information."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Diagram"}),": Generates visual diagrams based on the analyzed data."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Generator"}),": Combines the analyzed data and diagrams to produce the final output."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"key-components",children:"Key Components"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Providers"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"anthropic_provider"}),", ",(0,s.jsx)(n.code,{children:"openai_provider"}),", ",(0,s.jsx)(n.code,{children:"ollama_provider"}),": Encapsulate the logic to interact with the respective AI service APIs."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"base"}),": Defines the common base classes and interfaces for the provider modules."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"factory"}),": Responsible for creating and configuring the appropriate provider based on user input."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Models"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"models"}),": Defines the data structures and entities used throughout the system, such as ",(0,s.jsx)(n.code,{children:"AIModel"}),", ",(0,s.jsx)(n.code,{children:"Prompt"}),", ",(0,s.jsx)(n.code,{children:"Response"}),", etc."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"loader"}),": Handles the loading and parsing of configuration files."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Core Functionality"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"analyzer"}),": Processes input files and extracts relevant information, such as code structure, dependencies, and documentation."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"diagram"}),": Generates visual diagrams (sequence, flowchart, class, state) based on the analyzed data."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"generator"}),": Combines the analyzed data and diagrams to produce the final output."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Utilities"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"file_utils"}),": Provides file-related utility functions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"logger"}),": Handles logging and error reporting."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"parser"}),": Responsible for parsing and processing various input formats."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"handler"}),": Manages the lifecycle of the system components."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"watcher"}),": Monitors file changes and triggers the appropriate actions."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,s.jsx)(n.p,{children:"The typical user workflow can be described as follows:"}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User\n    participant CLI\n    participant Factory\n    participant Providers\n    participant Models\n    participant Analyzer\n    participant Diagram\n    participant Generator\n\n    User->>CLI: Initiate command\n    CLI->>Factory: Request provider creation\n    Factory->>Providers: Create provider instance\n    Providers->>Models: Utilize data models\n    CLI->>Analyzer: Analyze input files\n    Analyzer->>Diagram: Generate diagrams\n    Diagram->>Generator: Combine analyzed data and diagrams\n    Generator->>User: Provide final output"}),"\n",(0,s.jsxs)(n.p,{children:["The user interacts with the system through the CLI, which in turn utilizes the Factory to create the appropriate provider instances. The provider modules leverage the data models defined in the ",(0,s.jsx)(n.code,{children:"models"})," module to perform their tasks."]}),"\n",(0,s.jsx)(n.p,{children:"The Analyzer processes the input files, extracting relevant information. This data is then passed to the Diagram component, which generates the necessary visual diagrams. Finally, the Generator combines the analyzed data and diagrams to produce the final output, which is presented to the user."}),"\n",(0,s.jsx)(n.h2,{id:"design-principles",children:"Design Principles"}),"\n",(0,s.jsx)(n.p,{children:"The system architecture follows several key design principles:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Modularity"}),": The system is divided into well-defined modules, each with a specific responsibility. This promotes code reuse, maintainability, and testability."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Abstraction"}),": The ",(0,s.jsx)(n.code,{children:"base"})," module defines the common interfaces and base classes for the provider modules, allowing for easy integration of new providers in the future."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Separation of Concerns"}),": The system separates the concerns of data processing, diagram generation, and output production, ensuring a clear separation of responsibilities."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Extensibility"}),": The architecture is designed to be extensible, allowing for the addition of new providers, data models, and analysis/generation capabilities without requiring major changes to the existing codebase."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Configuration-Driven"}),": The system relies on configuration files to define the behavior and settings, making it easier to adapt to different use cases and requirements."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Progressive Disclosure"}),": The documentation follows the principle of progressive disclosure, starting with a high-level overview and then diving into the details of the key components and their interactions."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"By adhering to these design principles, the system architecture ensures maintainability, flexibility, and scalability, allowing for future growth and adaptation to changing requirements."}),"\n",(0,s.jsx)(n.h2,{id:"system-architecture-diagram",children:"System Architecture Diagram"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph TD\n    title[System Architecture]\n    style title fill:#f9f,stroke:#333,stroke-width:2px\n\n    M0[setup]\n    M1[__init__]\n    M2[anthropic_provider]\n    M3[base]\n    M4[factory]\n    M5[ollama_provider]\n    M6[openai_provider]\n    M7[cli]\n    M8[loader]\n    M9[models]\n    M10[analyzer]\n    M11[diagram]\n    M12[feature_generator]\n    M13[generator]\n    M14[file_utils]\n    M15[logger]\n    M16[parser]\n    M17[handler]\n    M18[watcher]\n    M19[test_config]\n    M20[test_diagram]\n    M21[test_exclusions]\n    M22[test_file_utils]\n    M23[test_parser]\n\n    M2 --\x3e M3\n    M4 --\x3e M2\n    M4 --\x3e M6\n    M4 --\x3e M5\n    M4 --\x3e M3\n    M4 --\x3e M9\n    M5 --\x3e M3\n    M6 --\x3e M3\n    M7 --\x3e M18\n    M7 --\x3e M8\n    M7 --\x3e M15\n    M7 --\x3e M13\n    M7 --\x3e M9\n    M8 --\x3e M9\n    M10 --\x3e M14\n    M10 --\x3e M15\n    M10 --\x3e M16\n    M10 --\x3e M9\n    M12 --\x3e M3\n    M12 --\x3e M14\n    M13 --\x3e M12\n    M13 --\x3e M14\n    M13 --\x3e M11\n    M13 --\x3e M10\n    M13 --\x3e M15\n    M13 --\x3e M4\n    M13 --\x3e M3\n    M13 --\x3e M9\n    M17 --\x3e M15\n    M18 --\x3e M17\n    M18 --\x3e M15\n    M18 --\x3e M9\n    M19 --\x3e M8\n    M19 --\x3e M9\n    M20 --\x3e M11\n    M21 --\x3e M14\n    M21 --\x3e M9\n    M23 --\x3e M16"})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var r=i(6540);const s={},t=r.createContext(s);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);