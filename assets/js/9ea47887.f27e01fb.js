"use strict";(globalThis.webpackChunksourcescribe_docs=globalThis.webpackChunksourcescribe_docs||[]).push([[2956],{5440:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"api-reference/architecture/components","title":"Component Architecture","description":"1. Component Breakdown","source":"@site/docs/api-reference/architecture/components.md","sourceDirName":"api-reference/architecture","slug":"/api-reference/architecture/components","permalink":"/docs/api-reference/architecture/components","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Features","permalink":"/docs/api-reference/features/"}}');var i=r(4848),a=r(8453);const o={},s="Component Architecture",d={},l=[{value:"1. Component Breakdown",id:"1-component-breakdown",level:2},{value:"<code>setup</code> and <code>__init__</code>",id:"setup-and-__init__",level:3},{value:"<code>anthropic_provider</code>, <code>ollama_provider</code>, and <code>openai_provider</code>",id:"anthropic_provider-ollama_provider-and-openai_provider",level:3},{value:"<code>base</code> and <code>factory</code>",id:"base-and-factory",level:3},{value:"<code>cli</code>, <code>loader</code>, and <code>models</code>",id:"cli-loader-and-models",level:3},{value:"<code>analyzer</code>, <code>diagram</code>, <code>feature_generator</code>, and <code>generator</code>",id:"analyzer-diagram-feature_generator-and-generator",level:3},{value:"<code>file_utils</code>, <code>logger</code>, <code>parser</code>, <code>handler</code>, and <code>watcher</code>",id:"file_utils-logger-parser-handler-and-watcher",level:3},{value:"<code>test_config</code>",id:"test_config",level:3},{value:"2. Communication Patterns",id:"2-communication-patterns",level:2},{value:"Initialization Workflow",id:"initialization-workflow",level:3},{value:"Feature Generation Workflow",id:"feature-generation-workflow",level:3},{value:"3. Data Models",id:"3-data-models",level:2},{value:"<code>ProviderConfig</code>",id:"providerconfig",level:3},{value:"<code>FeatureData</code>",id:"featuredata",level:3},{value:"<code>AnalysisResult</code>",id:"analysisresult",level:3},{value:"4. Design Patterns",id:"4-design-patterns",level:2},{value:"5. Extension Points",id:"5-extension-points",level:2},{value:"System Architecture Diagram",id:"system-architecture-diagram",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"component-architecture",children:"Component Architecture"})}),"\n",(0,i.jsx)(n.h1,{id:"component-architecture-documentation",children:"Component Architecture Documentation"}),"\n",(0,i.jsx)(n.h2,{id:"1-component-breakdown",children:"1. Component Breakdown"}),"\n",(0,i.jsx)(n.p,{children:"The system is composed of the following key components:"}),"\n",(0,i.jsxs)(n.h3,{id:"setup-and-__init__",children:[(0,i.jsx)(n.code,{children:"setup"})," and ",(0,i.jsx)(n.code,{children:"__init__"})]}),"\n",(0,i.jsx)(n.p,{children:"These modules handle the package setup and initialization. They are responsible for setting up the environment and making the package available for use."}),"\n",(0,i.jsxs)(n.h3,{id:"anthropic_provider-ollama_provider-and-openai_provider",children:[(0,i.jsx)(n.code,{children:"anthropic_provider"}),", ",(0,i.jsx)(n.code,{children:"ollama_provider"}),", and ",(0,i.jsx)(n.code,{children:"openai_provider"})]}),"\n",(0,i.jsx)(n.p,{children:"These modules implement the provider interfaces for different language models (Anthropic, Ollama, OpenAI). They encapsulate the logic for interacting with the respective language model APIs."}),"\n",(0,i.jsxs)(n.h3,{id:"base-and-factory",children:[(0,i.jsx)(n.code,{children:"base"})," and ",(0,i.jsx)(n.code,{children:"factory"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"base"})," module defines the abstract base classes and interfaces for the various components. The ",(0,i.jsx)(n.code,{children:"factory"})," module is responsible for creating instances of the appropriate provider based on the user's configuration."]}),"\n",(0,i.jsxs)(n.h3,{id:"cli-loader-and-models",children:[(0,i.jsx)(n.code,{children:"cli"}),", ",(0,i.jsx)(n.code,{children:"loader"}),", and ",(0,i.jsx)(n.code,{children:"models"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"cli"})," module provides the command-line interface for the system. The ",(0,i.jsx)(n.code,{children:"loader"})," module is responsible for loading the user's configuration from a YAML file. The ",(0,i.jsx)(n.code,{children:"models"})," module defines the data models used throughout the system."]}),"\n",(0,i.jsxs)(n.h3,{id:"analyzer-diagram-feature_generator-and-generator",children:[(0,i.jsx)(n.code,{children:"analyzer"}),", ",(0,i.jsx)(n.code,{children:"diagram"}),", ",(0,i.jsx)(n.code,{children:"feature_generator"}),", and ",(0,i.jsx)(n.code,{children:"generator"})]}),"\n",(0,i.jsx)(n.p,{children:"These modules handle the core functionality of the system, including analyzing the user's code, generating feature diagrams, and generating the final output."}),"\n",(0,i.jsxs)(n.h3,{id:"file_utils-logger-parser-handler-and-watcher",children:[(0,i.jsx)(n.code,{children:"file_utils"}),", ",(0,i.jsx)(n.code,{children:"logger"}),", ",(0,i.jsx)(n.code,{children:"parser"}),", ",(0,i.jsx)(n.code,{children:"handler"}),", and ",(0,i.jsx)(n.code,{children:"watcher"})]}),"\n",(0,i.jsx)(n.p,{children:"These are utility modules that provide file handling, logging, parsing, and file monitoring capabilities."}),"\n",(0,i.jsx)(n.h3,{id:"test_config",children:(0,i.jsx)(n.code,{children:"test_config"})}),"\n",(0,i.jsx)(n.p,{children:"This module contains the test configuration and setup for the system."}),"\n",(0,i.jsx)(n.h2,{id:"2-communication-patterns",children:"2. Communication Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"initialization-workflow",children:"Initialization Workflow"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant CLI\n    participant Loader\n    participant Factory\n    participant Provider\n\n    CLI->>Loader: Load configuration\n    Loader->>Factory: Create provider instance\n    Factory->>Provider: Initialize provider\n    Provider->>Factory: Return provider instance\n    Factory->>CLI: Return provider instance"}),"\n",(0,i.jsxs)(n.p,{children:["The initialization workflow starts with the CLI module loading the user's configuration from a YAML file using the ",(0,i.jsx)(n.code,{children:"Loader"})," module. The ",(0,i.jsx)(n.code,{children:"Factory"})," module is then responsible for creating an instance of the appropriate ",(0,i.jsx)(n.code,{children:"Provider"})," based on the configuration. The ",(0,i.jsx)(n.code,{children:"Provider"})," module is initialized and returned to the CLI."]}),"\n",(0,i.jsx)(n.h3,{id:"feature-generation-workflow",children:"Feature Generation Workflow"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant CLI\n    participant Analyzer\n    participant FeatureGenerator\n    participant Generator\n\n    CLI->>Analyzer: Analyze user code\n    Analyzer->>FeatureGenerator: Generate features\n    FeatureGenerator->>Generator: Generate output\n    Generator->>CLI: Return generated output"}),"\n",(0,i.jsxs)(n.p,{children:["The feature generation workflow begins with the CLI module passing the user's code to the ",(0,i.jsx)(n.code,{children:"Analyzer"})," module. The ",(0,i.jsx)(n.code,{children:"Analyzer"})," extracts relevant information and passes it to the ",(0,i.jsx)(n.code,{children:"FeatureGenerator"}),", which generates the feature data. The ",(0,i.jsx)(n.code,{children:"Generator"})," module then uses this data to produce the final output, which is returned to the CLI."]}),"\n",(0,i.jsx)(n.h2,{id:"3-data-models",children:"3. Data Models"}),"\n",(0,i.jsx)(n.p,{children:"The system uses the following key data models:"}),"\n",(0,i.jsx)(n.h3,{id:"providerconfig",children:(0,i.jsx)(n.code,{children:"ProviderConfig"})}),"\n",(0,i.jsx)(n.p,{children:"Represents the configuration for a specific language model provider, including the API key and other provider-specific settings."}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n    class ProviderConfig {\n        +str api_key\n        +str model\n        +str temperature\n        +int max_tokens\n    }"}),"\n",(0,i.jsx)(n.h3,{id:"featuredata",children:(0,i.jsx)(n.code,{children:"FeatureData"})}),"\n",(0,i.jsx)(n.p,{children:"Encapsulates the data related to a specific feature, including the feature name, description, and any associated diagrams."}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n    class FeatureData {\n        +str name\n        +str description\n        +str diagram\n    }"}),"\n",(0,i.jsx)(n.h3,{id:"analysisresult",children:(0,i.jsx)(n.code,{children:"AnalysisResult"})}),"\n",(0,i.jsx)(n.p,{children:"Holds the results of the code analysis, including the identified features and any errors or warnings."}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n    class AnalysisResult {\n        +list[FeatureData] features\n        +list[str] errors\n        +list[str] warnings\n    }"}),"\n",(0,i.jsx)(n.h2,{id:"4-design-patterns",children:"4. Design Patterns"}),"\n",(0,i.jsx)(n.p,{children:"The system employs the following design patterns:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Factory Pattern"}),": The ",(0,i.jsx)(n.code,{children:"Factory"})," module is responsible for creating instances of the appropriate ",(0,i.jsx)(n.code,{children:"Provider"})," based on the user's configuration, decoupling the creation logic from the CLI."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Adapter Pattern"}),": The ",(0,i.jsx)(n.code,{children:"Provider"})," modules act as adapters, encapsulating the differences between the various language model APIs and providing a consistent interface to the rest of the system."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Observer Pattern"}),": The ",(0,i.jsx)(n.code,{children:"Watcher"})," module observes changes in the user's code and triggers the ",(0,i.jsx)(n.code,{children:"Handler"})," module to re-analyze the code and generate new output."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Strategy Pattern"}),": The ",(0,i.jsx)(n.code,{children:"Analyzer"})," and ",(0,i.jsx)(n.code,{children:"Generator"})," modules implement different strategies for analyzing the code and generating the output, respectively, allowing for easy extensibility."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"5-extension-points",children:"5. Extension Points"}),"\n",(0,i.jsx)(n.p,{children:"The system is designed to be easily extensible, with the following key extension points:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Adding new language model providers"}),": To add support for a new language model, you can create a new ",(0,i.jsx)(n.code,{children:"Provider"})," module that implements the ",(0,i.jsx)(n.code,{children:"BaseProvider"})," interface. This allows the system to be easily extended to work with different language models."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Customizing the analysis and generation process"}),": The ",(0,i.jsx)(n.code,{children:"Analyzer"})," and ",(0,i.jsx)(n.code,{children:"Generator"})," modules can be extended to implement custom analysis and generation strategies, allowing the system to be tailored to specific use cases or requirements."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Extending the data models"}),": The ",(0,i.jsx)(n.code,{children:"models"})," module can be updated to include new data models or modify existing ones, enabling the system to handle additional data or requirements."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Integrating with other systems"}),": The system's modular design and well-defined interfaces make it easy to integrate with other systems, such as version control or deployment tools."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"By leveraging these extension points, the system can be easily adapted and expanded to meet the evolving needs of your organization."}),"\n",(0,i.jsx)(n.h2,{id:"system-architecture-diagram",children:"System Architecture Diagram"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph TD\n    title[System Architecture]\n    style title fill:#f9f,stroke:#333,stroke-width:2px\n\n    M0[setup]\n    M1[__init__]\n    M2[anthropic_provider]\n    M3[base]\n    M4[factory]\n    M5[ollama_provider]\n    M6[openai_provider]\n    M7[cli]\n    M8[loader]\n    M9[models]\n    M10[analyzer]\n    M11[diagram]\n    M12[feature_generator]\n    M13[generator]\n    M14[file_utils]\n    M15[logger]\n    M16[parser]\n    M17[handler]\n    M18[watcher]\n    M19[test_config]\n    M20[test_diagram]\n    M21[test_exclusions]\n    M22[test_file_utils]\n    M23[test_parser]\n\n    M2 --\x3e M3\n    M4 --\x3e M5\n    M4 --\x3e M9\n    M4 --\x3e M3\n    M4 --\x3e M6\n    M4 --\x3e M2\n    M5 --\x3e M3\n    M6 --\x3e M3\n    M7 --\x3e M15\n    M7 --\x3e M18\n    M7 --\x3e M8\n    M7 --\x3e M13\n    M7 --\x3e M9\n    M8 --\x3e M9\n    M10 --\x3e M15\n    M10 --\x3e M14\n    M10 --\x3e M16\n    M10 --\x3e M9\n    M12 --\x3e M3\n    M12 --\x3e M14\n    M13 --\x3e M15\n    M13 --\x3e M12\n    M13 --\x3e M14\n    M13 --\x3e M11\n    M13 --\x3e M9\n    M13 --\x3e M4\n    M13 --\x3e M3\n    M13 --\x3e M10\n    M17 --\x3e M15\n    M18 --\x3e M15\n    M18 --\x3e M17\n    M18 --\x3e M9\n    M19 --\x3e M8\n    M19 --\x3e M9\n    M20 --\x3e M11\n    M21 --\x3e M14\n    M21 --\x3e M9\n    M23 --\x3e M16"})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>s});var t=r(6540);const i={},a=t.createContext(i);function o(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);