"use strict";(globalThis.webpackChunksourcescribe_docs=globalThis.webpackChunksourcescribe_docs||[]).push([[1125],{7713:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"api-reference/files/tests_test_file_utils","title":"File Utilities Tests","description":"Overview","source":"@site/docs/api-reference/files/tests_test_file_utils.md","sourceDirName":"api-reference/files","slug":"/api-reference/files/tests_test_file_utils","permalink":"/docs/api-reference/files/tests_test_file_utils","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var s=n(4848),l=n(8453);const r={},c="File Utilities Tests",d={},o=[{value:"Overview",id:"overview",level:2},{value:"Main Components",id:"main-components",level:2},{value:"Functions",id:"functions",level:3},{value:"Dependencies and Imports",id:"dependencies-and-imports",level:2},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Implementation Details",id:"implementation-details",level:2}];function h(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"file-utilities-tests",children:"File Utilities Tests"})}),"\n",(0,s.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(i.p,{children:["This Python file contains a set of tests for the ",(0,s.jsx)(i.code,{children:"file_utils"})," module in the ",(0,s.jsx)(i.code,{children:"sourcescribe-core"})," project. The tests cover the following key functionality:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Reading and writing files"}),"\n",(0,s.jsx)(i.li,{children:"Finding files based on patterns"}),"\n",(0,s.jsx)(i.li,{children:"Detecting the programming language of a file"}),"\n",(0,s.jsx)(i.li,{children:"Checking if a file is a text file"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["The tests use the ",(0,s.jsx)(i.code,{children:"pytest"})," framework and the ",(0,s.jsx)(i.code,{children:"tempfile"})," module to create temporary directories and files for testing purposes."]}),"\n",(0,s.jsx)(i.h2,{id:"main-components",children:"Main Components"}),"\n",(0,s.jsx)(i.h3,{id:"functions",children:"Functions"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"test_read_write_file()"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Tests the ",(0,s.jsx)(i.code,{children:"read_file()"})," and ",(0,s.jsx)(i.code,{children:"write_file()"})," functions from the ",(0,s.jsx)(i.code,{children:"file_utils"})," module."]}),"\n",(0,s.jsx)(i.li,{children:"Writes a test string to a temporary file, then reads the content back and asserts that it matches the original."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"test_find_files()"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Tests the ",(0,s.jsx)(i.code,{children:"find_files()"})," function from the ",(0,s.jsx)(i.code,{children:"file_utils"})," module."]}),"\n",(0,s.jsx)(i.li,{children:"Creates a temporary directory with several test files, including Python and non-Python files."}),"\n",(0,s.jsxs)(i.li,{children:["Searches for Python files in the directory, excluding compiled Python files (",(0,s.jsx)(i.code,{children:".pyc"}),"), and asserts that the correct file is found."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"test_get_file_language()"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Tests the ",(0,s.jsx)(i.code,{children:"get_file_language()"})," function from the ",(0,s.jsx)(i.code,{children:"file_utils"})," module."]}),"\n",(0,s.jsx)(i.li,{children:"Checks the detected programming language for various file extensions, including Python, JavaScript, Java, and Go."}),"\n",(0,s.jsx)(i.li,{children:'Asserts that the function correctly identifies the language or returns "unknown" for an unsupported extension.'}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"test_is_text_file()"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Tests the ",(0,s.jsx)(i.code,{children:"is_text_file()"})," function from the ",(0,s.jsx)(i.code,{children:"file_utils"})," module."]}),"\n",(0,s.jsx)(i.li,{children:"Creates a temporary directory with a text file and a binary file."}),"\n",(0,s.jsxs)(i.li,{children:["Checks that the ",(0,s.jsx)(i.code,{children:"is_text_file()"})," function correctly identifies the text file as a text file and the binary file as not a text file."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"dependencies-and-imports",children:"Dependencies and Imports"}),"\n",(0,s.jsx)(i.p,{children:"The file imports the following modules and functions:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"pytest"}),": A testing framework for Python."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"tempfile"}),": A module for creating temporary files and directories."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"pathlib.Path"}),": A class for representing and working with file paths."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sourcescribe.utils.file_utils"}),": The ",(0,s.jsx)(i.code,{children:"file_utils"})," module, which contains the functions being tested."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,s.jsxs)(i.p,{children:["To run the tests in this file, you can use the ",(0,s.jsx)(i.code,{children:"pytest"})," command in your terminal:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"pytest test_file_utils.py\n"})}),"\n",(0,s.jsx)(i.p,{children:"This will execute all the tests defined in the file and display the results."}),"\n",(0,s.jsx)(i.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,s.jsxs)(i.p,{children:["The tests in this file use the ",(0,s.jsx)(i.code,{children:"tempfile.TemporaryDirectory()"})," context manager to create temporary directories for testing file-related functionality. This ensures that the test files are isolated and do not interfere with the rest of the file system."]}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"find_files()"})," function is tested by creating a temporary directory with various test files, including Python files and non-Python files. The test then checks that the function correctly identifies and returns the Python files, while excluding the compiled Python files (",(0,s.jsx)(i.code,{children:".pyc"}),")."]}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"get_file_language()"}),' function is tested by passing in various file extensions and asserting that the function correctly identifies the programming language or returns "unknown" for unsupported extensions.']}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"is_text_file()"})," function is tested by creating a temporary directory with a text file and a binary file, then checking that the function correctly identifies the text file as a text file and the binary file as not a text file."]}),"\n",(0,s.jsxs)(i.p,{children:["Overall, this test file ensures that the key file-related functionality in the ",(0,s.jsx)(i.code,{children:"file_utils"})," module is working as expected."]})]})}function a(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>c});var t=n(6540);const s={},l=t.createContext(s);function r(e){const i=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(l.Provider,{value:i},e.children)}}}]);