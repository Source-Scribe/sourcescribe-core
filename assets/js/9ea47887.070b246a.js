"use strict";(globalThis.webpackChunksourcescribe_docs=globalThis.webpackChunksourcescribe_docs||[]).push([[2956],{5440:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"api-reference/architecture/components","title":"Component Architecture","description":"1. Component Breakdown","source":"@site/docs/api-reference/architecture/components.md","sourceDirName":"api-reference/architecture","slug":"/api-reference/architecture/components","permalink":"/sourcescribe-core/docs/api-reference/architecture/components","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Features","permalink":"/sourcescribe-core/docs/api-reference/features/"}}');var i=r(4848),a=r(8453);const o={},s="Component Architecture",d={},c=[{value:"1. Component Breakdown",id:"1-component-breakdown",level:2},{value:"setup",id:"setup",level:3},{value:"<code>anthropic_provider</code>, <code>openai_provider</code>, <code>ollama_provider</code>",id:"anthropic_provider-openai_provider-ollama_provider",level:3},{value:"<code>base</code>",id:"base",level:3},{value:"<code>factory</code>",id:"factory",level:3},{value:"<code>cli</code>",id:"cli",level:3},{value:"<code>loader</code>",id:"loader",level:3},{value:"<code>models</code>",id:"models",level:3},{value:"<code>analyzer</code>, <code>feature_generator</code>, <code>generator</code>",id:"analyzer-feature_generator-generator",level:3},{value:"<code>diagram</code>",id:"diagram",level:3},{value:"<code>file_utils</code>, <code>logger</code>, <code>parser</code>, <code>handler</code>, <code>watcher</code>",id:"file_utils-logger-parser-handler-watcher",level:3},{value:"<code>test_config</code>",id:"test_config",level:3},{value:"2. Communication Patterns",id:"2-communication-patterns",level:2},{value:"3. Data Models",id:"3-data-models",level:2},{value:"4. Design Patterns",id:"4-design-patterns",level:2},{value:"5. Extension Points",id:"5-extension-points",level:2},{value:"System Architecture Diagram",id:"system-architecture-diagram",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"component-architecture",children:"Component Architecture"})}),"\n",(0,i.jsx)(n.h1,{id:"component-architecture-documentation",children:"Component Architecture Documentation"}),"\n",(0,i.jsx)(n.h2,{id:"1-component-breakdown",children:"1. Component Breakdown"}),"\n",(0,i.jsx)(n.p,{children:"The system is composed of the following key components:"}),"\n",(0,i.jsx)(n.h3,{id:"setup",children:"setup"}),"\n",(0,i.jsxs)(n.p,{children:["This module handles the package setup and installation, leveraging the ",(0,i.jsx)(n.code,{children:"setuptools"})," library."]}),"\n",(0,i.jsxs)(n.h3,{id:"anthropic_provider-openai_provider-ollama_provider",children:[(0,i.jsx)(n.code,{children:"anthropic_provider"}),", ",(0,i.jsx)(n.code,{children:"openai_provider"}),", ",(0,i.jsx)(n.code,{children:"ollama_provider"})]}),"\n",(0,i.jsxs)(n.p,{children:["These modules encapsulate the integration with different language model providers, abstracting away the provider-specific details behind a common interface defined in the ",(0,i.jsx)(n.code,{children:"base"})," module."]}),"\n",(0,i.jsx)(n.h3,{id:"base",children:(0,i.jsx)(n.code,{children:"base"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"base"})," module defines the core abstractions and interfaces used throughout the system, including the ",(0,i.jsx)(n.code,{children:"LanguageModel"})," and ",(0,i.jsx)(n.code,{children:"LanguageModelProvider"})," classes."]}),"\n",(0,i.jsx)(n.h3,{id:"factory",children:(0,i.jsx)(n.code,{children:"factory"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"factory"})," module is responsible for creating instances of the appropriate ",(0,i.jsx)(n.code,{children:"LanguageModelProvider"})," implementation based on the user's configuration."]}),"\n",(0,i.jsx)(n.h3,{id:"cli",children:(0,i.jsx)(n.code,{children:"cli"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"cli"})," module provides the command-line interface for interacting with the system, handling user input and orchestrating the various components."]}),"\n",(0,i.jsx)(n.h3,{id:"loader",children:(0,i.jsx)(n.code,{children:"loader"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"loader"})," module is responsible for loading and parsing the user's configuration files, which define the behavior of the system."]}),"\n",(0,i.jsx)(n.h3,{id:"models",children:(0,i.jsx)(n.code,{children:"models"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"models"})," module defines the core data structures used throughout the system, such as ",(0,i.jsx)(n.code,{children:"SourceFile"}),", ",(0,i.jsx)(n.code,{children:"Feature"}),", and ",(0,i.jsx)(n.code,{children:"FeatureSet"}),", using the ",(0,i.jsx)(n.code,{children:"pydantic"})," library."]}),"\n",(0,i.jsxs)(n.h3,{id:"analyzer-feature_generator-generator",children:[(0,i.jsx)(n.code,{children:"analyzer"}),", ",(0,i.jsx)(n.code,{children:"feature_generator"}),", ",(0,i.jsx)(n.code,{children:"generator"})]}),"\n",(0,i.jsx)(n.p,{children:"These modules work together to analyze the user's codebase, generate features, and produce the final documentation output."}),"\n",(0,i.jsx)(n.h3,{id:"diagram",children:(0,i.jsx)(n.code,{children:"diagram"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"diagram"})," module is responsible for generating the various diagrams (sequence, class, state) used in the documentation."]}),"\n",(0,i.jsxs)(n.h3,{id:"file_utils-logger-parser-handler-watcher",children:[(0,i.jsx)(n.code,{children:"file_utils"}),", ",(0,i.jsx)(n.code,{children:"logger"}),", ",(0,i.jsx)(n.code,{children:"parser"}),", ",(0,i.jsx)(n.code,{children:"handler"}),", ",(0,i.jsx)(n.code,{children:"watcher"})]}),"\n",(0,i.jsx)(n.p,{children:"These are supporting modules that provide utility functions, logging, parsing, and file system monitoring capabilities."}),"\n",(0,i.jsx)(n.h3,{id:"test_config",children:(0,i.jsx)(n.code,{children:"test_config"})}),"\n",(0,i.jsx)(n.p,{children:"This module contains the test configuration and setup for the system."}),"\n",(0,i.jsx)(n.h2,{id:"2-communication-patterns",children:"2. Communication Patterns"}),"\n",(0,i.jsx)(n.p,{children:"The key communication patterns in the system are:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Configuration Loading"}),":"]}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\n  participant CLI\n  participant Loader\n  participant Models\n  CLI->>Loader: Load configuration\n  Loader->>Models: Create data models\n  Loader--\x3e>CLI: Return configuration"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Language Model Initialization"}),":"]}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\n  participant CLI\n  participant Factory\n  participant LanguageModelProvider\n  CLI->>Factory: Get language model provider\n  Factory->>LanguageModelProvider: Create instance\n  LanguageModelProvider--\x3e>Factory: Return provider\n  Factory--\x3e>CLI: Return provider"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation Generation Workflow"}),":"]}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\n  participant CLI\n  participant Analyzer\n  participant FeatureGenerator\n  participant Generator\n  participant Diagram\n  CLI->>Analyzer: Analyze codebase\n  Analyzer->>FeatureGenerator: Generate features\n  FeatureGenerator->>Generator: Generate documentation\n  Generator->>Diagram: Generate diagrams\n  Diagram--\x3e>Generator: Return diagrams\n  Generator--\x3e>CLI: Return documentation"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"3-data-models",children:"3. Data Models"}),"\n",(0,i.jsx)(n.p,{children:"The key data models in the system are:"}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n    class SourceFile {\n        +path: pathlib.Path\n        +language: str\n        +lines: int\n        +classes: int\n        +functions: int\n        +dependencies: list[str]\n    }\n\n    class Feature {\n        +name: str\n        +description: str\n        +examples: list[str]\n    }\n\n    class FeatureSet {\n        +features: list[Feature]\n    }\n\n    class LanguageModel {\n        <<interface>>\n        +generate_text(prompt: str) -> str\n    }\n\n    class LanguageModelProvider {\n        <<interface>>\n        +get_language_model() -> LanguageModel\n    }"}),"\n",(0,i.jsx)(n.h2,{id:"4-design-patterns",children:"4. Design Patterns"}),"\n",(0,i.jsx)(n.p,{children:"The system employs the following design patterns:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Factory Pattern"}),": The ",(0,i.jsx)(n.code,{children:"factory"})," module uses the Factory Pattern to create instances of the appropriate ",(0,i.jsx)(n.code,{children:"LanguageModelProvider"})," implementation based on the user's configuration."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Adapter Pattern"}),": The ",(0,i.jsx)(n.code,{children:"anthropic_provider"}),", ",(0,i.jsx)(n.code,{children:"openai_provider"}),", and ",(0,i.jsx)(n.code,{children:"ollama_provider"})," modules use the Adapter Pattern to provide a common interface (",(0,i.jsx)(n.code,{children:"LanguageModel"})," and ",(0,i.jsx)(n.code,{children:"LanguageModelProvider"}),") for interacting with different language model providers."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Composite Pattern"}),": The ",(0,i.jsx)(n.code,{children:"FeatureSet"})," class uses the Composite Pattern to represent a collection of ",(0,i.jsx)(n.code,{children:"Feature"})," objects, allowing for a hierarchical structure of features."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Strategy Pattern"}),": The ",(0,i.jsx)(n.code,{children:"Analyzer"}),", ",(0,i.jsx)(n.code,{children:"FeatureGenerator"}),", and ",(0,i.jsx)(n.code,{children:"Generator"})," modules use the Strategy Pattern to allow for different analysis, feature generation, and documentation generation strategies to be plugged in."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"5-extension-points",children:"5. Extension Points"}),"\n",(0,i.jsx)(n.p,{children:"The system is designed to be extensible, with the following key extension points:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Language Model Providers"}),": New language model providers can be added by implementing the ",(0,i.jsx)(n.code,{children:"LanguageModelProvider"})," interface and registering them with the ",(0,i.jsx)(n.code,{children:"factory"})," module."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Feature Generators"}),": New feature generation strategies can be added by implementing the ",(0,i.jsx)(n.code,{children:"FeatureGenerator"})," interface and registering them with the ",(0,i.jsx)(n.code,{children:"generator"})," module."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation Generators"}),": New documentation generation strategies can be added by implementing the ",(0,i.jsx)(n.code,{children:"Generator"})," interface and registering them with the ",(0,i.jsx)(n.code,{children:"cli"})," module."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Diagram Generators"}),": New diagram generation strategies can be added by implementing the ",(0,i.jsx)(n.code,{children:"Diagram"})," interface and registering them with the ",(0,i.jsx)(n.code,{children:"generator"})," module."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Configuration Loaders"}),": New configuration file formats can be supported by implementing the ",(0,i.jsx)(n.code,{children:"Loader"})," interface and registering them with the ",(0,i.jsx)(n.code,{children:"cli"})," module."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"By leveraging these extension points, the system can be easily adapted to new requirements and use cases without modifying the core codebase."}),"\n",(0,i.jsx)(n.h2,{id:"system-architecture-diagram",children:"System Architecture Diagram"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph TD\n    title[System Architecture]\n    style title fill:#f9f,stroke:#333,stroke-width:2px\n\n    M0[setup]\n    M1[__init__]\n    M2[anthropic_provider]\n    M3[base]\n    M4[factory]\n    M5[ollama_provider]\n    M6[openai_provider]\n    M7[cli]\n    M8[loader]\n    M9[models]\n    M10[analyzer]\n    M11[diagram]\n    M12[feature_generator]\n    M13[generator]\n    M14[file_utils]\n    M15[logger]\n    M16[parser]\n    M17[handler]\n    M18[watcher]\n    M19[test_config]\n    M20[test_diagram]\n    M21[test_exclusions]\n    M22[test_file_utils]\n    M23[test_parser]\n\n    M2 --\x3e M3\n    M4 --\x3e M2\n    M4 --\x3e M6\n    M4 --\x3e M5\n    M4 --\x3e M3\n    M4 --\x3e M9\n    M5 --\x3e M3\n    M6 --\x3e M3\n    M7 --\x3e M18\n    M7 --\x3e M8\n    M7 --\x3e M15\n    M7 --\x3e M13\n    M7 --\x3e M9\n    M8 --\x3e M9\n    M10 --\x3e M14\n    M10 --\x3e M15\n    M10 --\x3e M16\n    M10 --\x3e M9\n    M12 --\x3e M3\n    M12 --\x3e M14\n    M13 --\x3e M12\n    M13 --\x3e M14\n    M13 --\x3e M11\n    M13 --\x3e M10\n    M13 --\x3e M15\n    M13 --\x3e M4\n    M13 --\x3e M3\n    M13 --\x3e M9\n    M17 --\x3e M15\n    M18 --\x3e M17\n    M18 --\x3e M15\n    M18 --\x3e M9\n    M19 --\x3e M8\n    M19 --\x3e M9\n    M20 --\x3e M11\n    M21 --\x3e M14\n    M21 --\x3e M9\n    M23 --\x3e M16"})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>s});var t=r(6540);const i={},a=t.createContext(i);function o(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);