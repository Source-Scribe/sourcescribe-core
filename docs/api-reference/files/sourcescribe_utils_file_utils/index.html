<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-api-reference/files/sourcescribe_utils_file_utils" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">File Utility Functions | Source Scribe</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://source-scribe.github.io/sourcescribe-core/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://source-scribe.github.io/sourcescribe-core/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://source-scribe.github.io/sourcescribe-core/docs/api-reference/files/sourcescribe_utils_file_utils"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="File Utility Functions | Source Scribe"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/sourcescribe-core/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://source-scribe.github.io/sourcescribe-core/docs/api-reference/files/sourcescribe_utils_file_utils"><link data-rh="true" rel="alternate" href="https://source-scribe.github.io/sourcescribe-core/docs/api-reference/files/sourcescribe_utils_file_utils" hreflang="en"><link data-rh="true" rel="alternate" href="https://source-scribe.github.io/sourcescribe-core/docs/api-reference/files/sourcescribe_utils_file_utils" hreflang="x-default"><link rel="stylesheet" href="/sourcescribe-core/assets/css/styles.af60f173.css">
<script src="/sourcescribe-core/assets/js/runtime~main.346558b6.js" defer="defer"></script>
<script src="/sourcescribe-core/assets/js/main.6aba47bb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/sourcescribe-core/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sourcescribe-core/"><div class="navbar__logo"><img src="/sourcescribe-core/img/logo.svg" alt="SourceScribe Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/sourcescribe-core/img/logo.svg" alt="SourceScribe Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SourceScribe</b></a><a class="navbar__item navbar__link" href="/sourcescribe-core/docs/api-reference/">Tutorial</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/Source-Scribe/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>File Utility Functions</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>The <code>file_utils.py</code> module provides a set of utility functions for working with files and directories in a Python project. These functions handle common file-related tasks such as reading, writing, and finding files, as well as detecting file types and creating directories.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="main-components">Main Components<a href="#main-components" class="hash-link" aria-label="Direct link to Main Components" title="Direct link to Main Components" translate="no">​</a></h2>
<p>The module defines the following functions:</p>
<ol>
<li class=""><code>read_file(file_path: str, encoding: str = &#x27;utf-8&#x27;) -&gt; str</code></li>
<li class=""><code>write_file(file_path: str, content: str, encoding: str = &#x27;utf-8&#x27;) -&gt; None</code></li>
<li class=""><code>find_files(root_path: str, include_patterns: Optional[List[str]] = None, exclude_patterns: Optional[List[str]] = None, max_size: Optional[int] = None, follow_symlinks: bool = False) -&gt; List[str]</code></li>
<li class=""><code>get_file_language(file_path: str) -&gt; str</code></li>
<li class=""><code>is_text_file(file_path: str) -&gt; bool</code></li>
<li class=""><code>get_relative_path(file_path: str, root_path: str) -&gt; str</code></li>
<li class=""><code>create_directory(dir_path: str) -&gt; None</code></li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-functionality">Key Functionality<a href="#key-functionality" class="hash-link" aria-label="Direct link to Key Functionality" title="Direct link to Key Functionality" translate="no">​</a></h2>
<ol>
<li class="">
<p><strong>Reading and Writing Files</strong>: The <code>read_file()</code> and <code>write_file()</code> functions allow you to read the content of a file and write content to a file, respectively. These functions handle file encoding and automatically create directories if needed.</p>
</li>
<li class="">
<p><strong>Finding Files</strong>: The <code>find_files()</code> function allows you to search for files within a given root directory, using include and exclude patterns, and filtering by maximum file size. This can be useful for tasks like indexing or processing a set of files.</p>
</li>
<li class="">
<p><strong>File Language Detection</strong>: The <code>get_file_language()</code> function uses a predefined <code>LANGUAGE_MAP</code> to detect the programming language of a file based on its file extension.</p>
</li>
<li class="">
<p><strong>Text File Detection</strong>: The <code>is_text_file()</code> function checks if a file is likely a text file by analyzing the first 8192 bytes of the file and looking for the presence of null bytes (common in binary files).</p>
</li>
<li class="">
<p><strong>Relative Path Retrieval</strong>: The <code>get_relative_path()</code> function returns the relative path of a file with respect to a given root directory.</p>
</li>
<li class="">
<p><strong>Directory Creation</strong>: The <code>create_directory()</code> function ensures that a directory and its parent directories are created if they don&#x27;t already exist.</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="dependencies-and-imports">Dependencies and Imports<a href="#dependencies-and-imports" class="hash-link" aria-label="Direct link to Dependencies and Imports" title="Direct link to Dependencies and Imports" translate="no">​</a></h2>
<p>The <code>file_utils.py</code> module imports the following Python standard library modules:</p>
<ul>
<li class=""><code>os</code>: For interacting with the operating system</li>
<li class=""><code>pathlib</code>: For working with file paths</li>
<li class=""><code>typing</code>: For type annotations</li>
<li class=""><code>fnmatch</code>: For file pattern matching</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="usage-examples">Usage Examples<a href="#usage-examples" class="hash-link" aria-label="Direct link to Usage Examples" title="Direct link to Usage Examples" translate="no">​</a></h2>
<p>Here are some examples of how to use the functions provided in the <code>file_utils.py</code> module:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sourcescribe</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">file_utils </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> read_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> write_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> find_files</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> get_file_language</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_text_file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> get_relative_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> create_directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Read file content</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">content </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> read_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;path/to/file.txt&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Write content to a file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;path/to/output.txt&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Hello, World!&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Find all Python files in a directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python_files </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> find_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;path/to/directory&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include_patterns</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;*.py&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Get the programming language of a file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">language </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_file_language</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;path/to/file.py&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Output: &#x27;python&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Check if a file is a text file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">is_text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> is_text_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;path/to/file.txt&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Output: True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Get the relative path of a file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">relative_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_relative_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;path/to/file.txt&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;path/to/directory&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Output: &#x27;file.txt&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a directory if it doesn&#x27;t exist</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create_directory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;path/to/new/directory&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="implementation-details">Implementation Details<a href="#implementation-details" class="hash-link" aria-label="Direct link to Implementation Details" title="Direct link to Implementation Details" translate="no">​</a></h2>
<ol>
<li class="">
<p>The <code>LANGUAGE_MAP</code> dictionary is used to map file extensions to programming language names. This mapping can be extended as needed to support additional file types.</p>
</li>
<li class="">
<p>The <code>find_files()</code> function uses the <code>pathlib.Path.rglob()</code> method to recursively search for files in the specified root directory. It applies the provided include and exclude patterns to filter the results, and also checks the file size if a maximum size is specified.</p>
</li>
<li class="">
<p>The <code>is_text_file()</code> function reads the first 8192 bytes of the file and checks for the presence of null bytes, which are common in binary files. It then attempts to decode the bytes using UTF-8 and other common encodings to determine if the file is likely a text file.</p>
</li>
<li class="">
<p>The <code>get_relative_path()</code> function uses the <code>pathlib.Path.relative_to()</code> method to calculate the relative path of a file with respect to a given root directory. If the file path cannot be made relative, the original file path is returned.</p>
</li>
<li class="">
<p>The <code>create_directory()</code> function uses the <code>pathlib.Path.mkdir()</code> method to create a directory and its parent directories if they don&#x27;t already exist.</p>
</li>
</ol></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#main-components" class="table-of-contents__link toc-highlight">Main Components</a></li><li><a href="#key-functionality" class="table-of-contents__link toc-highlight">Key Functionality</a></li><li><a href="#dependencies-and-imports" class="table-of-contents__link toc-highlight">Dependencies and Imports</a></li><li><a href="#usage-examples" class="table-of-contents__link toc-highlight">Usage Examples</a></li><li><a href="#implementation-details" class="table-of-contents__link toc-highlight">Implementation Details</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sourcescribe-core/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/SourceScribe" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Source-Scribe/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Source Scribe. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>